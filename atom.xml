<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DingTing</title>
  <subtitle>土豆烧排骨</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://dandan32.github.io/"/>
  <updated>2017-08-29T07:32:40.000Z</updated>
  <id>http://dandan32.github.io/</id>
  
  <author>
    <name>pipi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>HanoiTower</title>
    <link href="http://dandan32.github.io/2017/08/29/algorithm/HanoiTower/"/>
    <id>http://dandan32.github.io/2017/08/29/algorithm/HanoiTower/</id>
    <published>2017-08-29T02:23:41.000Z</published>
    <updated>2017-08-29T07:32:40.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>经典的算法问题。汉诺塔（Hanoi Tower），又称河内塔，源于印度一个古老传说。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，任何时候，在小圆盘上都不能放大圆盘，且在三根柱子之间一次只能移动一个圆盘。问应该如何操作？</p>
<p><img src="/images/algorithm/HanoiTower1.png" alt=""></p>
<p><strong>如果强暴的尝试每一种移动圆盘的可能，那需要的操作步骤可能是难以想象的，特别是当圆盘越来越多之后。</strong></p>
<h2 id="分解"><a href="#分解" class="headerlink" title="分解"></a>分解</h2><p>经过思考，可以发现，要将n个圆盘从 a 移动到 c。可以先将最后一个圆盘之上的 n-1 个圆盘都移动到 b 上，把最后一个圆盘移动从 a 移动到 c 上。此时问题就转化为将剩下的n-1个圆盘从 b 移动到 c上。</p>
<p><img src="/images/algorithm/HanoiTower2.png" alt=""></p>
<p>重复递推此过程，当递推剩下一个盘子的时候，便可将盘子移动到目标柱上！</p>
<p>给出python代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 输出： [盘子序号] [当前所处柱] --&gt; [移往的柱] </span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">(n , a, b, c)</span>:</span></div><div class="line">    <span class="keyword">if</span> len(n) == <span class="number">1</span>:</div><div class="line">        print(n, a, <span class="string">'--&gt;'</span>, c)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        solve(n[:<span class="number">-1</span>], a, c,b)</div><div class="line">        solve(n[<span class="number">-1</span>:], a, b, c)</div><div class="line">        solve(n[:<span class="number">-1</span>], b, a, c)</div><div class="line"></div><div class="line">arr = list(range(<span class="number">3</span>))</div><div class="line">slove(arr, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/antineutrino/p/3334540.html" target="_blank" rel="external">参考</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h2&gt;&lt;p&gt;经典的算法问题。汉诺塔（Hanoi Tower），又称河内塔，源于印度一个古老传说。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下
    
    </summary>
    
      <category term="算法" scheme="http://dandan32.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="递归" scheme="http://dandan32.github.io/tags/%E9%80%92%E5%BD%92/"/>
    
  </entry>
  
  <entry>
    <title>美团提前批面试</title>
    <link href="http://dandan32.github.io/2017/08/29/interview/interview-meituan-1/"/>
    <id>http://dandan32.github.io/2017/08/29/interview/interview-meituan-1/</id>
    <published>2017-08-29T02:13:46.000Z</published>
    <updated>2017-08-29T02:16:08.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>微品会提前批面试</title>
    <link href="http://dandan32.github.io/2017/08/29/interview/interview-vip-1/"/>
    <id>http://dandan32.github.io/2017/08/29/interview/interview-vip-1/</id>
    <published>2017-08-29T02:13:41.000Z</published>
    <updated>2017-08-29T02:18:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>ABC</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ABC&lt;/p&gt;

    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>阿里巴巴内推面试</title>
    <link href="http://dandan32.github.io/2017/08/29/interview/interview-ali-2/"/>
    <id>http://dandan32.github.io/2017/08/29/interview/interview-ali-2/</id>
    <published>2017-08-29T02:13:34.000Z</published>
    <updated>2017-08-29T02:16:06.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>hadoop</title>
    <link href="http://dandan32.github.io/2017/08/05/hadoop/"/>
    <id>http://dandan32.github.io/2017/08/05/hadoop/</id>
    <published>2017-08-05T07:37:40.000Z</published>
    <updated>2017-08-05T18:43:23.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="大数据" scheme="http://dandan32.github.io/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="hadoop" scheme="http://dandan32.github.io/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/hadoop/"/>
    
    
      <category term="大数据" scheme="http://dandan32.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="hadoop" scheme="http://dandan32.github.io/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>阿里巴巴面试</title>
    <link href="http://dandan32.github.io/2017/07/01/interview/interview-ali-1/"/>
    <id>http://dandan32.github.io/2017/07/01/interview/interview-ali-1/</id>
    <published>2017-07-01T13:27:52.000Z</published>
    <updated>2017-08-29T02:12:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>妹的，心好累，挺希望能去阿里的，结果最好还是拒了，今年可能真的水逆吧！可能第一面表现的不太好，写的map排序太差了，没做对。个人觉得二面，和hr面都面的挺好。希望秋招能又机会😄。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;妹的，心好累，挺希望能去阿里的，结果最好还是拒了，今年可能真的水逆吧！可能第一面表现的不太好，写的map排序太差了，没做对。个人觉得二面，和hr面都面的挺好。希望秋招能又机会😄。&lt;/p&gt;

    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>南方基金面试</title>
    <link href="http://dandan32.github.io/2017/06/20/interview/interview-southern-1/"/>
    <id>http://dandan32.github.io/2017/06/20/interview/interview-southern-1/</id>
    <published>2017-06-20T13:52:57.000Z</published>
    <updated>2017-08-29T02:12:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>南方基金的面试流程颇为奇怪，不过据说基金类的面试都差不多。。。<br>先是逐个自我介绍，然后介绍自己应聘的优点等，陆姐是给我印象最好的一个hr了。<br>不得不说有为了高工资来南方的想法，然而实习工资并不高。<br>也许对于其他行业来说算高了吧。<br>呵，这里感觉技术实力确实不强，一切求稳，也有其道理。<br>不过同事关系确实不错，享受这里的工作了</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;南方基金的面试流程颇为奇怪，不过据说基金类的面试都差不多。。。&lt;br&gt;先是逐个自我介绍，然后介绍自己应聘的优点等，陆姐是给我印象最好的一个hr了。&lt;br&gt;不得不说有为了高工资来南方的想法，然而实习工资并不高。&lt;br&gt;也许对于其他行业来说算高了吧。&lt;br&gt;呵，这里感觉技术实力
    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Tensorflow - 2</title>
    <link href="http://dandan32.github.io/2017/06/12/tensorflow-2/"/>
    <id>http://dandan32.github.io/2017/06/12/tensorflow-2/</id>
    <published>2017-06-12T08:45:25.000Z</published>
    <updated>2017-06-12T08:46:00.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="机器学习" scheme="http://dandan32.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="机器学习" scheme="http://dandan32.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="tensorflow" scheme="http://dandan32.github.io/tags/tensorflow/"/>
    
  </entry>
  
  <entry>
    <title>微众银行面试</title>
    <link href="http://dandan32.github.io/2017/06/10/interview/interview-webank-1/"/>
    <id>http://dandan32.github.io/2017/06/10/interview/interview-webank-1/</id>
    <published>2017-06-10T13:27:47.000Z</published>
    <updated>2017-08-29T02:12:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>微众银行面试的时候，一面的时候吧，挺好的，面试官感觉到技术实力强，有抱负，有理想。<br>二面的面试官看起来城府颇深，后来得知是大领导，不过颇为年轻了领导的话，可能和互联网有关吧，毕竟互联网比较年轻，嘻嘻。<br>现在想起来，好后悔没去微众，微众给我的感觉还挺不错的，深圳这个城市渐渐喜欢上了，好想美女也挺多的！可惜我不认识😢  </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;微众银行面试的时候，一面的时候吧，挺好的，面试官感觉到技术实力强，有抱负，有理想。&lt;br&gt;二面的面试官看起来城府颇深，后来得知是大领导，不过颇为年轻了领导的话，可能和互联网有关吧，毕竟互联网比较年轻，嘻嘻。&lt;br&gt;现在想起来，好后悔没去微众，微众给我的感觉还挺不错的，深圳这
    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Tensorflow - 1 简介、原理</title>
    <link href="http://dandan32.github.io/2017/06/04/tensorflow-1/"/>
    <id>http://dandan32.github.io/2017/06/04/tensorflow-1/</id>
    <published>2017-06-04T06:19:10.000Z</published>
    <updated>2017-06-12T08:48:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>只是关于TensorFlow，如果没有神经网络或机器学习相关知识的建议<a href="http://neuralnetworksanddeeplearning.com/index.html" target="_blank" rel="external">到此学习</a></p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>TensorFlow 是Google的第二代分布式机器学习系统，于2015年11月开源，起源于 Google 内部的第一代分布式机器学习系统 DistBelief。前后端结构，后端使用c++开发而成，通过前端支持Python、C++、Java等开发语言，主要特性利用Gpu加速，以及分布式并行计算。</p>
<h1 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h1><h2 id="计算图"><a href="#计算图" class="headerlink" title="计算图"></a>计算图</h2><p>TensorFlow 使用计算图「Computing Graph」，即用有向图「directed graph」表示计算流程，其中每一个<strong>运算操作「operation」</strong> 作为一个<strong>节点「node」</strong> 每个节点都是一个Operation。节点间的连线称为边，在计算中流动的数据称为<strong>张量「Tensor」</strong>， 这也就是「TensorFlow」名字的来源，Tensor 在 Operation之间传递。如下图（Constant操作产生常量Tensor）：</p>
<p><img src="/images/tensorflow/1_5.png" alt=""></p>
<p><em>计算图「Graph」由 Tensor 和 Operation 组成。TensorFlow程序的构建分为构建阶段与执行阶段。即构建图、然后在Session中运行图</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># tf 含有一个默认的计算图，计算操作会添加到计算图中，通过如下调用获取默认的计算图</span></div><div class="line">tf.get_default_graph()</div><div class="line"><span class="comment"># 通过 tf.Graph() 生成新的计算图,并定义图中计算,并可为每个图定义计算设备等。</span></div><div class="line">g1 = tf.Graph()</div><div class="line"><span class="keyword">with</span> g1.as_default():</div><div class="line">    a = tf.Constant([<span class="number">1.0</span>,<span class="number">2.0</span>],name=<span class="string">'a'</span>)</div><div class="line"><span class="keyword">with</span> tf.Session(graph=g1) <span class="keyword">as</span> sess:</div><div class="line">    sess.run(tf.get_variable(<span class="string">'a'</span>))</div></pre></td></tr></table></figure>
<p>Session  可以通过上下文管理器的方式使用。避免了忘记close session 产生的泄漏问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 用法1</span></div><div class="line">sess = tf.Session()</div><div class="line">sess.run(...)</div><div class="line">sess.close()</div><div class="line"><span class="comment"># 用法2 上下文管理器方式</span></div><div class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</div><div class="line">    ...</div><div class="line"></div><div class="line">sess = tf.Session()</div><div class="line"><span class="comment"># 注册为默认会话</span></div><div class="line"><span class="keyword">with</span> sess.as_default():</div><div class="line">    Tensor.eval() 或 Operation.run()</div><div class="line"></div><div class="line"><span class="comment"># 交互式会话</span></div><div class="line">sess = tf.InterativeSession()</div><div class="line">Tensor.eval() 或 Operation.run()</div><div class="line">sess.close()</div><div class="line"></div><div class="line"><span class="comment"># 通过ConfigProto配置session</span></div><div class="line">config = tf.ConfigProto(param1...)</div><div class="line">sess = tf.Session(config=config)</div></pre></td></tr></table></figure>
<h2 id="运算-Operation"><a href="#运算-Operation" class="headerlink" title="运算 Operation"></a>运算 Operation</h2><p><em>运算操作</em>表示抽象计算（矩阵乘法、向量加法），运算通过其属性支持不同的tensor 类型，比如支持浮点数或整数。<em>运算核</em>是运算在某类硬件设备上的实现，tensorflow 通过「注册机制」添加新运算或运算核。</p>
<h2 id="Collection-资源集合"><a href="#Collection-资源集合" class="headerlink" title="Collection 资源集合"></a>Collection 资源集合</h2><p>tf 通过 collection 管理不同类的资源，资源可以是张量、变量、或运行tensorflow 程序需要的队列资源。通过tf.add_to_collection() 将资源添加到集合中，tf自动管理的一些常用的集合：</p>
<ul>
<li>tf.GraphKeys.VARIABLES 所有变量</li>
<li>tf.GraphKeys.TRAINABLE_VARIABLES 可学习调整的变量</li>
<li>tf.GraphKeys.SUMMARIES 日志生成相关变量</li>
<li>tf.GraphKeys.QUEUE_RUNNERS 处理输入的QUEUE_RUNNERS</li>
<li>tf.GraphKeys.MOVING_AVERAGE_VARIABLES 所有计算了滑动平均值的变量</li>
</ul>
<h2 id="会话-Session"><a href="#会话-Session" class="headerlink" title="会话 Session"></a>会话 Session</h2><p>tensorflow 进行计算时必须要有一个session（通过session启动计算过程），session提供了计算图运行的环境，可以通过session的extend方法添加新的节点和边。seesion的run方法用以执行计算图。Variable 中的tensor会在计算执行后保留，而用户提供的tensor执行后并不会保存在内存中。</p>
<h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>TensorFlow 使用的是master-worker的分布式设计，client 通过session连接master，master负责指导worker执行计算，每个worker可以与多个硬件设备相连接并负责管理硬件。TensorFlow有单机模式与分布式模式两种实现。如下图：<br><img src="/images/tensorflow/1_1.png" alt=""></p>
<p>每个worker管理的设备的name表示为：”／job:xxx/任务号(单机模式没有)／device:硬件类别:硬件编号”，例子：</p>
<ul>
<li>单机模式: /job:localhost/device:cpu:0</li>
<li>分布式模式: /job:worker/task:17/device:gpu:3</li>
</ul>
<h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><p>单机模式下，计算图按照依赖关系顺序执行，当节点的上游以来都被执行后，节点进入ready queue等待执行，同时下游节点依赖数也会减一。</p>
<p>分布式情况下两个问题：</p>
<ul>
<li>节点在什么硬件设备上运行？<br>  通过估算节点计算时间分配到合适的设备上，同一设备上的相邻的节点会成为子图。</li>
<li>节点间通信？<br>  1.子图间边转化为设备上的发送节点、接收节点、以及发送节点到接收节点的边。如果设备上多个接收节点是同一个tensor，则这些接收节点合并为同一个接收节点。避免重复占用设备存储。<br>  2.容错性：当数据发送失败、或worker心跳检测不到则计算图会被终止并重启，通过检查点（check point）保存和恢复可以避免重启后完全重来，保留模型参数。<br>  3.variable node 连接Save node可以持久化存储，连接Restore node可以重启的时候恢复数据。</li>
</ul>
<h1 id="扩展功能"><a href="#扩展功能" class="headerlink" title="扩展功能"></a>扩展功能</h1><ul>
<li>自动求导<br>  正向执行后，反向回溯，涉及的问题有求导时以来之前的tensor，导致内存问题<br><img src="/images/tensorflow/1_2.png" alt=""></li>
<li>单独执行子图<br><img src="/images/tensorflow/1_3.png" alt=""></li>
<li>计算图控制流（Switch、Merge）</li>
</ul>
<h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><ul>
<li>异步</li>
<li>合并相同操作<br>  降低重复计算</li>
<li>变换执行顺序<br>  改善内存占用问题</li>
<li>并行计算模式<ol>
<li>数据并行</li>
<li>模型并行</li>
<li>流水线并行</li>
</ol>
</li>
</ul>
<p>其他：</p>
<ul>
<li>输入系统：1. feed node（通过client读取数据）、 2.input node 直接从文件系统读取数据</li>
<li>队列：tensorflow调度，比如预先读取下一个batch的数据</li>
<li>容器：管理长期变量</li>
</ul>
<p>计算执行过程图：</p>
<p><img src="/images/tensorflow/1_4.png" alt=""></p>
<p><a href="https://arxiv.org/pdf/1605.08695v2" target="_blank" rel="external">TensorFlow: A system for large-scale machine learning</a></p>
<p><em>后面会讲到正则化、滑动平均等问题</em></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;只是关于TensorFlow，如果没有神经网络或机器学习相关知识的建议&lt;a href=&quot;http://neuralnetworksanddeeplearning.com/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;到此学习&lt;/a&gt;&lt;
    
    </summary>
    
      <category term="机器学习" scheme="http://dandan32.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="机器学习" scheme="http://dandan32.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="tensorflow" scheme="http://dandan32.github.io/tags/tensorflow/"/>
    
  </entry>
  
  <entry>
    <title>机器学习 模型评估与选择</title>
    <link href="http://dandan32.github.io/2017/04/27/MachineLearning-2/"/>
    <id>http://dandan32.github.io/2017/04/27/MachineLearning-2/</id>
    <published>2017-04-27T05:59:56.000Z</published>
    <updated>2017-05-02T13:27:54.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="经验误差-与-过拟合"><a href="#经验误差-与-过拟合" class="headerlink" title="经验误差 与 过拟合"></a>经验误差 与 过拟合</h1><p>*(模型就是学习器)</p>
<ul>
<li><strong>错误率</strong>:<br>  通常将分类错误的样本数占样本总数的比例称为“<em>错误率</em>”。即如果在m个样本中有a个样本分类错误，则错误率$E=\frac{a}{m}$, 相应的 $1-\frac{a}{m}$ 称为 “ <em>精度</em> ”。</li>
<li><strong>误差</strong>：<br>  把学习器在实际预测上输出与样本值的真是输出之间的差异称为“误差”，学习器在训练集上的“ <em>误差</em> ”称为“ <em>训练误差</em> ” 或 “ <em>经验误差</em> ”；在新样本上的误差称为 “ <em>泛化误差</em> ”。显然，我们希望得到“泛化误差”小的学习器。</li>
<li><strong>过拟合(高方差)</strong>:<br>  当学习器将训练集样本学习得“太好”的时候，很可能将训练集中“自身特殊”的一些特点作为潜在样本具有的一般性质，这会导致“泛化性能”下降。这种现象称为“过拟合”。过拟合通常是因为学习能力过于强大而将不太一般的特性都学习了；过拟合解决比较麻烦，是机器学习的关键障碍。过拟合无法彻底避免，只能够缓解。因为机器学习的问题大都是“NP”难问题，而有效的学习算法必须在多项式时间内给出结果，若彻底避免过拟合，则通过经验误差最小化就能获得最优解，也就意味着产生了 “P=NP”，与现实矛盾。</li>
<li><strong>欠拟合(高偏差)</strong>:<br>  与过拟合相对的就是“欠拟合”，欠拟合是指对于训练集上的一般性质尚未学习好。欠拟合是因为学习能力不足而造成的，欠拟合相对比较容易解决，比如决策数树中增加分支，神经网络中增加迭代次数。</li>
</ul>
<p><strong>模型选择</strong><br>在现实任务中，往往有多种学习算法可供选择，甚至对同个学习算法，使用不同的参数将产生多个模型。那么使用何种算法，使用何种参数？这就是机器学习中“<em>模型选择</em>” 的问题。理想的做法是对模型的“<em>泛化误差</em>”进行评估，选择泛化误差最小的模型。但在现实中无法直接获得“<em>泛化误差</em>”,在现实中如何进行模型的“评估” 与 “选择” ？</p>
<h1 id="评估方法"><a href="#评估方法" class="headerlink" title="评估方法"></a>评估方法</h1><p>通常可以通过实验测试来对学习器的泛化误差进行“评估”并进而做出“选择”。</p>
<p><strong>测试集</strong>：<br>需要一个样本集合来测试学习器对新样本的判别能力。以测试集上的 “<em>测试误差</em>” 作为 “<em>泛化误差</em>” 的近似。通常假设“<em>测试样本</em>” 也是从样本真是分布中独立同分布采样而得。唯一需要注意的是，测试集应该极尽可能的与训练集互斥。即测试样本不应该在训练样本中出现、未在训练中使用过（这其中的道理很好理解，比如考试遇见做过的题目很可能取得高分）。</p>
<p><strong>当只有m个样本的数据集D，如何训练和测试呢？以下给出几种方法</strong></p>
<h2 id="留出法"><a href="#留出法" class="headerlink" title="留出法"></a>留出法</h2><p>直接将数据集D 划分为两个互斥的集合S、T，其中一个集合S作为训练集，另一个集合T作为测试集，即 $ D = S \cup T, S \cap T= \emptyset $。</p>
<p>以二分类作为例子，假定D包含 1000 个样本，将其划分为S包含700个样本， T包含300个样本，用S进行训练后，如果模型在T上的有90个样本分类错误，那么其错误率就是$ \frac{90}{300} \times 100% = 30%$,相应的精度为 $1 - 30% = 70% $。</p>
<p>* <em>需要注意的是划分数据的过程中数据分布的一致性。</em><br>避免在数据划分过程用引入额外的偏差而对最终结果产生影响，比如在分类中至少要保持相同的类别比例。从采样的角度看待数据集的划分过程，保留类别比例的采样方式通常称为“分层采样”。</p>
<p>单次使用留出法往往不够稳定可靠，因为划分方式的不同，比如排序后将正例按比例放入S、T中，会使得模型评估结果会有差别。<em>因此一般采取若干次随机划分，重复进行试验后取平均值作为留出法的评估结果。</em></p>
<p><strong>缺点</strong>:</p>
<p>由于我们想要评估由D训练得出的模型的性能，但留出法划分的训练集、测试集 会导致一个窘境！即如果训练集S包含大多数样本，则训练处的模型很可能接近于用D训练出的模型，但是由于T比较小，苹果结果可能不够稳定准确。</p>
<p>常见的做法是将大约$\frac{2}{3} $~ $\frac{4}{5}$ 的样本用于训练，剩余样本用于测试。</p>
<h2 id="交叉验证法"><a href="#交叉验证法" class="headerlink" title="交叉验证法"></a>交叉验证法</h2><p>预先将数据集 D 划分为 k 个大小相似的互斥子集，即 $ D=D_1 \cup D_2 \cup …  \cup D_k, D_i \cap D_j = \emptyset $。尽可能保证每个子集数据分布的一致性。每次用k-1个数据集作为训练集，余下的作为测试集；这样可以获得k组（训练集|测试集），从而可以进行k次训练和测试，最终返回k次测试结果的均值。我们显然可以发现，交叉验证法评估结果的稳定性和保真性很依赖k的取值，所以交叉验证法也称为“ <strong>k折交叉验证</strong> ”。因为将数据集D划分为k个子集存在多种划分方式，为了减小因样本划分不同带来的差别，常随机使用不同的划分方式重复p次，最后评估p次k折交叉验证结果的均值，例如常见的“ <strong>10次10折交叉验证</strong>”。</p>
<p>当数据集D有m个样本，当k=m时，则得到交叉验证法的特例：“ <strong>留一法</strong> ”，显然，留一法显然不受划分方式的影响。因为m个样本的集合划分为m个不相交的子集只有唯一的一种划分方式（每个子集包含一个样本）。 这就是的留一法的评估结果与期望使用D训练出的模型很相似，所以留一法往往被认为比较准确。<br>但其存在的缺陷是：训练m个计算模型的开销可能是难以接受的，另外，留一法的评估结果也未必比其他评估方法准确（“没有免费的午餐”定理）。</p>
<h2 id="自助法"><a href="#自助法" class="headerlink" title="自助法"></a>自助法</h2><p>我们希望评估的是用D训练出的模型。可以发现，“ <em>留出法</em> ”与 “ <em>交叉验证法</em> ”中，由于保留一部分用于测试，因此实际评估使用的训练集比D小，必然会引入一些因训练规模不同而导致的“<em>估计偏差</em>”，“<em>留一法</em>”受样本规模影响较小，但是复杂度太高！有什么办法可以减少样本规模造成的影响，同时还能比较高效的进行实验估计？？？</p>
<p>“自助法（bootstrapping）”是一种比较好的解决方案（以“<em>直接采样法</em>”作为基础），给定包含m个样本的集合，对其采样生成$D\prime$，每次随机从D中抽取一个样本，放入$D\prime$中，然后再将样本放回D中，这样下一次仍有可能采集到该样本；重复此过程m此后，获的包含m个样本的数据集$D\prime$。在$D‘$中有些样本会重复出现，而有些则根本不出现。可以估算，样本在m次采样中都不被采到的概率是$(1- \frac{1}{m})^m$,去极限得到：$$\lim\limits_{m \mapsto \infty}{(1- \frac{1}{m})^m} \mapsto \frac{1}{e} \approx 0.368$$</p>
<p>也就是说“<em>自助法</em>”中大概有 36.8% 的样本未出现在数据集 $D\prime$中。 将 $D\prime$ 作为训练集，将 $D\D\prime$作为测试集，这样实际评估的模型与期望评估的模型都是用m个训练样本。仍然有$\frac{1}{3}$的数据样本用于测试，这样的测试结果，也称“<em>包外估计（out of bag estimate）</em>”。</p>
<p>自助法对于数据集较小，在难以有效划分训练集、测试集时很有用。自助法能够产生多个训练集，这对于集成学习很有好处，然而，自助法产生数据的方式改变了初始数据集的分布，带来估计偏差</p>
<h2 id="调参与最终模型"><a href="#调参与最终模型" class="headerlink" title="调参与最终模型"></a>调参与最终模型</h2><p>大多数学习算法都有些参数（parameter）需要设置，参数配置不同导致的学习的模型性能往往有差别，因此除了对适用学习算法进行选择，还需对算法参数进行设定（即常说的“<em>参数选择</em>”）。而实际上机器学习通常涉及到两类参数，一类是超参数（算法的参数）；另一类是模型的参数，比如深度网络中每个节点的权值参数。</p>
<p>给定m个样本的数据集D，在模型评估与选择过程中由于需要留出一部分数据进行测试，实际上只用了一部分数据训练模型，在模型选择完成后，学习算法和参数配置就已经确定好，<strong>此时，应该使用D重新训练模型，使用所用m个样本，这是最终提交给用户的模型！</strong></p>
<p>* 一般将模型在实际使用中遇到的数据称为 “<em>测试数据</em>”<br>* 为了区分，模型评估与选择中用于评估的数据集称为“<em>验证集（validation set）</em>”</p>
<h1 id="性能度量"><a href="#性能度量" class="headerlink" title="性能度量"></a>性能度量</h1><p>衡量模型泛化能力的评价标准，称为性能度量（performance measure），给定样例集$D={(x_1, y_2),(x_2, y_2),…,(x_n, y_n)}$ 其中 $y_i$ 是 样例 $x_i$ 的真实标记，要评估学习器 $f$ 的性能，就要把学习器预测结果 $f(x)$ 与真实标记 $y$ 进行比较。</p>
<p>* 回归任务最常用的性能度量是 “均方误差” (mean squared error).</p>
<p>$$E(f;D) = \frac{1}{m} \sum_{i=1}^{m}(f(x_i)-y_i)^2$$</p>
<p>跟一般的对于数据分布 D 和概率密度函数$p(·)$ 均方误差可表示为：</p>
<p>$$E(f;D) = \int_{x \sim D} (f(x)-y)^2 p(x)dx$$</p>
<h2 id="错误率-与-精度"><a href="#错误率-与-精度" class="headerlink" title="错误率 与 精度"></a>错误率 与 精度</h2><p>* $\mathrm{II}(·)$ 指示函数，根据是否为真输出为0或1。</p>
<p>错误率 与 精度 是分类任务中最常用的两种性能度量，即适用于二分类任务、也适用于多分类任务。错误率是分类错误的样例占样本总数的比例：</p>
<p>$$E(f;D) = \frac{1}{m}\sum_{i=1}^{m} \mathrm{II} (f(x_i) \neq y_i)$$</p>
<p>相应的精度则定义为：</p>
<p>$$<br>\begin{equation}\begin{split}<br>acc(f;D) &amp;= \frac{1}{m}\sum_{i=1}^{m} \mathrm{II} (f(x_i) = y_i)\\<br>&amp;=1-E(f;D)<br>\end{split}\end{equation}<br>$$ </p>
<p>跟一般的对于数据分布 D 和概率密度函数$p(·)$ 错误率和精度可表示为：<br>$$错误率：E(f;D) = \int_{x \sim D}  \mathrm{II} (f(x) \neq y) p(x) dx$$</p>
<p>$$<br>\begin{equation}\begin{split}<br>精度：acc(f;D) &amp;= \int_{x \sim D}  \mathrm{II} (f(x) = y) p(x) dx\\<br>&amp;= 1- E(f;D)<br>\end{split}\end{equation}<br>$$</p>
<h2 id="查准率、-查全率、-与-F1"><a href="#查准率、-查全率、-与-F1" class="headerlink" title="查准率、 查全率、 与 F1"></a>查准率、 查全率、 与 F1</h2><p>错误率衡量了模型对样本的识别能力，比如一车西瓜，通过模型分类后，错误率能告诉我们有多少个瓜判别错误，但是如果实际问题更关心的是“挑出的瓜中有多少是好瓜，或者好瓜中有多少被挑了出来”。那错误率显然不满足情况，这时需要其他性能度量！</p>
<p>###查准率（precision）</p>
<p>###查全率（召回率、recall）</p>
<h3 id="P-R图（P-R曲线）"><a href="#P-R图（P-R曲线）" class="headerlink" title="P-R图（P-R曲线）"></a>P-R图（P-R曲线）</h3><ul>
<li>完全包裹</li>
<li>面积</li>
<li>平衡点（Break-Even Point）</li>
</ul>
<h2 id="ROC-与-AUC"><a href="#ROC-与-AUC" class="headerlink" title="ROC 与 AUC"></a>ROC 与 AUC</h2>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;经验误差-与-过拟合&quot;&gt;&lt;a href=&quot;#经验误差-与-过拟合&quot; class=&quot;headerlink&quot; title=&quot;经验误差 与 过拟合&quot;&gt;&lt;/a&gt;经验误差 与 过拟合&lt;/h1&gt;&lt;p&gt;*(模型就是学习器)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;错误率&lt;/s
    
    </summary>
    
      <category term="机器学习" scheme="http://dandan32.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="机器学习" scheme="http://dandan32.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>今日头条爬虫实习生面试</title>
    <link href="http://dandan32.github.io/2017/04/26/interview/interview-toutiao-1/"/>
    <id>http://dandan32.github.io/2017/04/26/interview/interview-toutiao-1/</id>
    <published>2017-04-26T07:09:56.000Z</published>
    <updated>2017-08-29T02:12:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>面试官先问了我的爬虫项目经验，对于爬虫的各种细节都问到了，还有截取非http的爬虫？应该比较少吧，第一次听说。感觉爬虫方面还是回答的比较好的。</p>
<p>后来问了我两个算法方面的问题：</p>
<ol>
<li>A、B两个有序（升序）数组，寻找去其中第k大的元素。</li>
</ol>
<p>我的回答是“使用两个指示器指示数组末尾位置，比较相对应的位置元素大小，大的就往前移动，移动k次后，返回移动对应的元素”，<br>然后面试官问时间复杂度，和空间复杂度，当时没反应过来，时间复杂度就是O(k)呀，空间复杂度，由于只需要额外3个元素存储指示信心，所以空间复杂度是O(3)。</p>
<ol>
<li>A、B两人轮流下棋，棋盘是圆的，轮留下，棋盘没有格子，当棋盘满了，不能放棋子的人就输了，如何保证自己必赢。</li>
</ol>
<p>答案很巧妙，当时没有想出来，“首先需要在棋盘中心位置下一子，以后，每次都在对手下棋位置关于圆心对称的地方放置棋子”，此法可保证必胜。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;面试官先问了我的爬虫项目经验，对于爬虫的各种细节都问到了，还有截取非http的爬虫？应该比较少吧，第一次听说。感觉爬虫方面还是回答的比较好的。&lt;/p&gt;
&lt;p&gt;后来问了我两个算法方面的问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A、B两个有序（升序）数组，寻找去其中第k大的元素。&lt;/l
    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>小米暑期软件研发工程师面试</title>
    <link href="http://dandan32.github.io/2017/04/26/interview/interview-mi-1/"/>
    <id>http://dandan32.github.io/2017/04/26/interview/interview-mi-1/</id>
    <published>2017-04-26T07:08:16.000Z</published>
    <updated>2017-08-29T02:12:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>简记一下小米的面试，一开始是个人介绍和项目介绍。目前发现问题是个人的介绍还是很简单，没有很好突出自己的优点，在项目中的一些难点，复杂点也没有向面试官介绍清楚，小米的面试官给人一种很亲切的感觉。后来就开始线上笔试，笔试很特殊，是以共享文档的方式考察个人的算法功底，面试官写一行，我回答一行。</p>
<p>题目大体是：</p>
<p>用链表表示一个数：123 表示为 1 -&gt; 2 -&gt; 3，<br>给出两个数，求其和，结果也用链表形式返回。</p>
<p>比较简单的一道题目，将链表反转，进行相加操作后，返回结果即可，</p>
<p>值得我留意的是：</p>
<ul>
<li><strong>这里链表反转用3个指针就可以使得原链表反转，可以不用构建一个新链表</strong></li>
<li><strong>set类可以O(1)的复杂度进行查找</strong></li>
<li><strong>位图</strong></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;简记一下小米的面试，一开始是个人介绍和项目介绍。目前发现问题是个人的介绍还是很简单，没有很好突出自己的优点，在项目中的一些难点，复杂点也没有向面试官介绍清楚，小米的面试官给人一种很亲切的感觉。后来就开始线上笔试，笔试很特殊，是以共享文档的方式考察个人的算法功底，面试官写一行
    
    </summary>
    
      <category term="面试" scheme="http://dandan32.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://dandan32.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>机器学习 绪论</title>
    <link href="http://dandan32.github.io/2017/04/20/MachineLearning-1/"/>
    <id>http://dandan32.github.io/2017/04/20/MachineLearning-1/</id>
    <published>2017-04-20T15:09:16.000Z</published>
    <updated>2017-04-25T10:19:09.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>《机器学习-周志华》笔记 第一章</strong></p>
<h1 id="什么是机器学习？"><a href="#什么是机器学习？" class="headerlink" title="什么是机器学习？"></a>什么是机器学习？</h1><p>人类能够从日常生活中观察事物的规律，总结而成经验，继而以经验辅助判断指导实践活动。获得经验的过程就是学习的过程。<br>那么计算机能够产生对事物更深层次的理解吗？<br>机器学习主要研究的内容是从 <em>数据</em> 中产生 <em>模型</em> 的算法，即学习算法（learning algorithm）。学习算法能够根据提供的经验数据产生模型，在面对新情况时以模型作为依据提供相应判断或产出。</p>
<p>【Machine Learning,Tom Mitchell 1997】给出了更形式化的定义：假设用P来评估计算机程序在任务类T上的性能，若一个程序通过利用经验E在T中任务上获得性能改善，则我们就说关于T和P，该程序对E进行了学习</p>
<h1 id="基本术语"><a href="#基本术语" class="headerlink" title="基本术语"></a>基本术语</h1><ul>
<li>模型：<br>  “模型” 泛指从数据中学习得到的结果。</li>
<li>数据集：<br>  一批数据的集合，数据集由样本构成。</li>
<li>示例(instance)、样本(sample)：<br>  数据集合中的每一条记录称为示例(样本)，示例构成数据集。样本属性的个数d称为样本的” <strong>维度</strong> “(dimensionality), 具备了 <strong>标记(label)</strong> 的样本称为 <strong>样例(example)</strong> 。</li>
<li>属性(特征) [属性空间] [样本空间] [输入空间]：<br>  反映事物或对象在某方面的表现或性质的事项，属性张成的空间称为” <em>属性空间</em> “、” <em>样本空间</em> “、” <em>输入空间</em> “。</li>
<li>学习(learning)、训练(training) [训练集]：<br>  从数据中学的模型的过程称为” <em>学习</em> “、” <em>训练</em> “。训练过程使用的数据称为” <em>训练数据</em> “，其中每个样本称为” <em>训练样本</em> “，训练样本组成的集合称为” <em>训练集</em> “。</li>
<li>测试(testing) [测试集]：<br>  学习模型后，对模型进行评估从而用一组新数据进行预测的过程称为” <em>测试</em> “，而这组新的数据称为 “ <em>测试集</em> “，被预测的样本称为 “ <em>测试样本</em> “</li>
<li>假设(hypothesis):<br>  学习得到的模型对应了关于数据的某种潜在的规律，因此也称 “假设”。模型有时也称 “学习器”。</li>
<li>分类、 回归：<br>  若预测的目标是离散的，则学习任务称为”分类”；若目标是连续值，则学习任务称为”回归”。只涉及两个类别的称为”二分类”，通常称一类为” <em>正类</em> “、另一类为” <em>反类</em> “；涉及多个类别的分类称为 “ <em>多分类</em> “</li>
<li>聚类：<br>  将数据集上的样本分类若干组，每组称为” <em>簇</em> “。聚类过程中使用的数据样本通常不含有标记信息。</li>
<li>监督学习、无监督学习、半监督学习</li>
<li>泛化：<br>  指学习得到的模型适用于新样本的能力。</li>
</ul>
<h1 id="假设空间"><a href="#假设空间" class="headerlink" title="假设空间"></a>假设空间</h1><p>归纳与演绎，是科学推理的两大基本手段。归纳指的是特殊到一般的泛化；演绎指的是一般到特殊的泛化。机器学习是从样例中学习，所以也称” <em>归纳学习</em> “。机械的记住” <em>训练样本</em> “的学习方式称为” <em>机械学习</em> “,只是简单的记住训练样本对于未遇见过的样本来预测效果会很差。<br>考虑这样一个例子：选西瓜，可以根据根蒂、敲声、色泽综合判断西瓜是否是好瓜的情况。<br>用布尔表达式为： $$ 好瓜\leftrightarrow(色泽=?)\vee(根蒂=?)\vee(敲声=?) $$ 更一般的情况应考虑析合范式: $$(A \vee B) \wedge (C \vee D)$$</p>
<p>我们把学习过程看作是在所有假设组成的空间中进行搜索的过程，搜索目标是寻找与“训练集”匹配的假设。在西瓜例子中可以知道，色泽可以取“青绿”、“乌黑“ 2种取值，或色泽对好瓜根本没有影响（即其实是3种取值）；根蒂可以取“蜷缩”、“稍蜷”、“硬挺” 3种取值，也可能根蒂对好瓜没有影响（即其实是4种取值）；敲声可取“浊响”、“清脆” 2种取值，也可能敲声对好瓜也无影响（也即其实是3种取值）；也可能根本不存在好瓜这一食物。所<br>如果假设色泽、根蒂、敲声的各有3、2、2种取值，计算时每个取值需要附加上 无影响选择<br>以可以知道面试的假设空间大小为: $$ 4 \times 3 \times 3 + 1 = 37$$</p>
<p><img src="/images/MachineLearning/chapter1_1.jpeg" alt=""></p>
<p>基于训练集进行训练得到与训练集一致的假设（能够在训练集上作出正确判断、预测），就是学习的结果。<br>在现实问题中可能面临一个很大的假设空间，但是学习过程是基于样本集进行的，因此很可能出现多个假设与训练集一只，即存在一个与训练集一致的“假设集合”，称之为“ <em>版本空间</em> ”。</p>
<p>训练集合：</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>色泽</th>
<th>根蒂</th>
<th>敲声</th>
<th>好瓜</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>青绿</td>
<td>蜷缩</td>
<td>浊响</td>
<td>是</td>
</tr>
<tr>
<td>2</td>
<td>乌黑</td>
<td>蜷缩</td>
<td>浊响</td>
<td>是</td>
</tr>
<tr>
<td>3</td>
<td>青绿</td>
<td>硬挺</td>
<td>清脆</td>
<td>否</td>
</tr>
<tr>
<td>4</td>
<td>乌黑</td>
<td>稍蜷</td>
<td>沉闷</td>
<td>否</td>
</tr>
</tbody>
</table>
<p><img src="/images/MachineLearning/chapter1_2.jpeg" alt=""></p>
<p>西瓜问题的版本空间，现在具有3个假设与训练集一致；对于训练集而言，无法判定哪一个假设更加好。然而对于具体的学习算法而言，必须给出一个模型。这时算法本身的“ <em>偏好</em> ”就会其到关键作用。如果算法喜欢尽可能“特殊”的模型，则它会选择 $$ 好瓜\leftrightarrow(色泽=\star)\vee(根蒂=蜷缩)\vee(敲声=浊响) $$ 但如果算法喜欢更加一般的模型，并且由于某种原因它更加愿意“相信”根蒂，则它会选择：$$ 好瓜\leftrightarrow(色泽=\star)\vee(根蒂=蜷缩)\vee(敲声=\star) $$</p>
<p>机器学习算法在学习过程中对某种类型假设的偏好，称为“<em>归纳偏好</em>”，或简称 “ <em>偏好</em> ”， 任何一个有效的机器学习算法必有其归纳偏好，否则它将被假设空间中看似在训练集上“等效”的算法所迷惑，而无法产生确定的学习结果。可以想像，对于一个新瓜，我们的学习算法随机挑选版本空间中的一个假设时而告诉它是好瓜，时而告诉它是坏瓜，这样的学习显然没有任何意义。关于“ <em>归纳偏好</em> ”使用回归学习图更加直观，对于下图的点集，要学的一个与训练集一致的模型，相当于找到一条穿过所有样本点的曲线。显然，对有限个样本点组成的训练集，存在很多条与其一致。我们的学习算法必须有某种偏好，才能产出他认为“正确”的模型。<br>归纳偏好可以看作是在假设空间中对假设进行选择的启发式，或“价值观”。 “ <em>奥卡姆剃刀原则</em> ”是常用的一种方法，奥卡姆剃刀原则表示“ 若有多个假设与观察一致，则选择最简单的那个 ”。</p>
<p><img src="/images/MachineLearning/chapter1_3.jpeg" alt=""></p>
<p>很多时候，算法A在某些问题上表现比算法B更加好，而算法B在某些问题上表现比算法A更好。证明过程 P8</p>
<h1 id="机器学习发展历程"><a href="#机器学习发展历程" class="headerlink" title="机器学习发展历程"></a>机器学习发展历程</h1><h2 id="符号主义，逻辑推理"><a href="#符号主义，逻辑推理" class="headerlink" title="符号主义，逻辑推理"></a>符号主义，逻辑推理</h2><p>1963 年 “逻辑理论家”程序 证明了罗素和怀特海的 《数学原理》 中的52条定理</p>
<h2 id="知识工程"><a href="#知识工程" class="headerlink" title="知识工程"></a>知识工程</h2><p>20世纪 70年代中期，人工智能进入“知识期”，专家系统。</p>
<h2 id="连接主义"><a href="#连接主义" class="headerlink" title="连接主义"></a>连接主义</h2><p>20世纪 50年代 罗森布莱特 的 感知机。 神经网络、深度学习等。</p>
<h2 id="统计学习"><a href="#统计学习" class="headerlink" title="统计学习"></a>统计学习</h2><p>20世界90年代中期，统计学习占据主导地位。</p>
<h2 id="行为主义"><a href="#行为主义" class="headerlink" title="行为主义"></a>行为主义</h2><p>来源于控制论，又称进化主义，其原理为控制论及感知-动作型控制系统。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;《机器学习-周志华》笔记 第一章&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&quot;什么是机器学习？&quot;&gt;&lt;a href=&quot;#什么是机器学习？&quot; class=&quot;headerlink&quot; title=&quot;什么是机器学习？&quot;&gt;&lt;/a&gt;什么是机器学习？&lt;/h1&gt;&lt;p&gt;人类能够从
    
    </summary>
    
      <category term="机器学习" scheme="http://dandan32.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="机器学习" scheme="http://dandan32.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5_11 俄罗斯方块</title>
    <link href="http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-11/"/>
    <id>http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-11/</id>
    <published>2017-04-19T07:55:06.000Z</published>
    <updated>2017-04-19T12:15:04.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="俄罗斯方块"><a href="#俄罗斯方块" class="headerlink" title="俄罗斯方块"></a>俄罗斯方块</h1><p>俄罗斯方块是最流行的电脑游戏之一，1985年俄罗斯开发者 Alexey Pajitnov 开发出最初的原型。</p>
<p>六种基本形状</p>
<ul>
<li>S 形块</li>
<li>Z 形块</li>
<li>T 形块</li>
<li>L 形块</li>
<li>镜像L形块</li>
<li>线形块<br>每种形状都有四个方块组成，形状从上往下掉落，可以通过旋转改变形状的姿态，尽可能适应填满一行。如果填满一行，则该行删除获得相应分数。累积到顶部则游戏结束。</li>
</ul>
<h1 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h1><p>通过绘图API绘制形状，电脑游戏背后都有一些数学模型，俄罗斯方块也是如此。一些思路</p>
<ul>
<li>使用QBasicTimer() 创建游戏循环</li>
<li>绘制形状</li>
<li>形状以方块移动，而不是像素。</li>
<li>模型化背板为数字的列表。</li>
</ul>
<p>代码由四个类组成：Tetris, Board, Tetrominoe 和 Shape。Tetris 类构建游戏，Board负责游戏逻辑，Tetrominoe表示所有的方块名字，Shape类表示方块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This is a Tetris game clone.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys, random</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QMainWindow, QFrame, QDesktopWidget, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt, QBasicTimer, pyqtSignal</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QColor </div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tetris</span><span class="params">(QMainWindow)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>    </div><div class="line"></div><div class="line">        self.tboard = Board(self)</div><div class="line">        self.setCentralWidget(self.tboard)</div><div class="line"></div><div class="line">        self.statusbar = self.statusBar()        </div><div class="line">        self.tboard.msg2Statusbar[str].connect(self.statusbar.showMessage)</div><div class="line">        </div><div class="line">        self.tboard.start()</div><div class="line">        </div><div class="line">        self.resize(<span class="number">180</span>, <span class="number">380</span>)</div><div class="line">        self.center()</div><div class="line">        self.setWindowTitle(<span class="string">'Tetris'</span>)        </div><div class="line">        self.show()</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">center</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        screen = QDesktopWidget().screenGeometry()</div><div class="line">        size = self.geometry()</div><div class="line">        self.move((screen.width()-size.width())/<span class="number">2</span>, </div><div class="line">            (screen.height()-size.height())/<span class="number">2</span>)</div><div class="line">        </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Board</span><span class="params">(QFrame)</span>:</span></div><div class="line">    </div><div class="line">    msg2Statusbar = pyqtSignal(str)</div><div class="line">    </div><div class="line">    BoardWidth = <span class="number">10</span></div><div class="line">    BoardHeight = <span class="number">22</span></div><div class="line">    Speed = <span class="number">300</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent)</span>:</span></div><div class="line">        super().__init__(parent)</div><div class="line">        </div><div class="line">        self.initBoard()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initBoard</span><span class="params">(self)</span>:</span>     </div><div class="line"></div><div class="line">        self.timer = QBasicTimer()</div><div class="line">        self.isWaitingAfterLine = <span class="keyword">False</span></div><div class="line">        </div><div class="line">        self.curX = <span class="number">0</span></div><div class="line">        self.curY = <span class="number">0</span></div><div class="line">        self.numLinesRemoved = <span class="number">0</span></div><div class="line">        self.board = []</div><div class="line"></div><div class="line">        self.setFocusPolicy(Qt.StrongFocus)</div><div class="line">        self.isStarted = <span class="keyword">False</span></div><div class="line">        self.isPaused = <span class="keyword">False</span></div><div class="line">        self.clearBoard()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shapeAt</span><span class="params">(self, x, y)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.board[(y * Board.BoardWidth) + x]</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setShapeAt</span><span class="params">(self, x, y, shape)</span>:</span></div><div class="line">        self.board[(y * Board.BoardWidth) + x] = shape</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">squareWidth</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.contentsRect().width() // Board.BoardWidth</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">squareHeight</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.contentsRect().height() // Board.BoardHeight</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> self.isPaused:</div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        self.isStarted = <span class="keyword">True</span></div><div class="line">        self.isWaitingAfterLine = <span class="keyword">False</span></div><div class="line">        self.numLinesRemoved = <span class="number">0</span></div><div class="line">        self.clearBoard()</div><div class="line"></div><div class="line">        self.msg2Statusbar.emit(str(self.numLinesRemoved))</div><div class="line"></div><div class="line">        self.newPiece()</div><div class="line">        self.timer.start(Board.Speed, self)</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pause</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.isStarted:</div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        self.isPaused = <span class="keyword">not</span> self.isPaused</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> self.isPaused:</div><div class="line">            self.timer.stop()</div><div class="line">            self.msg2Statusbar.emit(<span class="string">"paused"</span>)</div><div class="line">            </div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            self.timer.start(Board.Speed, self)</div><div class="line">            self.msg2Statusbar.emit(str(self.numLinesRemoved))</div><div class="line"></div><div class="line">        self.update()</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, event)</span>:</span></div><div class="line">        </div><div class="line">        painter = QPainter(self)</div><div class="line">        rect = self.contentsRect()</div><div class="line"></div><div class="line">        boardTop = rect.bottom() - Board.BoardHeight * self.squareHeight()</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(Board.BoardHeight):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(Board.BoardWidth):</div><div class="line">                shape = self.shapeAt(j, Board.BoardHeight - i - <span class="number">1</span>)</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> shape != Tetrominoe.NoShape:</div><div class="line">                    self.drawSquare(painter,</div><div class="line">                        rect.left() + j * self.squareWidth(),</div><div class="line">                        boardTop + i * self.squareHeight(), shape)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> self.curPiece.shape() != Tetrominoe.NoShape:</div><div class="line">            </div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">                </div><div class="line">                x = self.curX + self.curPiece.x(i)</div><div class="line">                y = self.curY - self.curPiece.y(i)</div><div class="line">                self.drawSquare(painter, rect.left() + x * self.squareWidth(),</div><div class="line">                    boardTop + (Board.BoardHeight - y - <span class="number">1</span>) * self.squareHeight(),</div><div class="line">                    self.curPiece.shape())</div><div class="line"></div><div class="line">                    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">keyPressEvent</span><span class="params">(self, event)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.isStarted <span class="keyword">or</span> self.curPiece.shape() == Tetrominoe.NoShape:</div><div class="line">            super(Board, self).keyPressEvent(event)</div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        key = event.key()</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> key == Qt.Key_P:</div><div class="line">            self.pause()</div><div class="line">            <span class="keyword">return</span></div><div class="line">            </div><div class="line">        <span class="keyword">if</span> self.isPaused:</div><div class="line">            <span class="keyword">return</span></div><div class="line">                </div><div class="line">        <span class="keyword">elif</span> key == Qt.Key_Left:</div><div class="line">            self.tryMove(self.curPiece, self.curX - <span class="number">1</span>, self.curY)</div><div class="line">            </div><div class="line">        <span class="keyword">elif</span> key == Qt.Key_Right:</div><div class="line">            self.tryMove(self.curPiece, self.curX + <span class="number">1</span>, self.curY)</div><div class="line">            </div><div class="line">        <span class="keyword">elif</span> key == Qt.Key_Down:</div><div class="line">            self.tryMove(self.curPiece.rotateRight(), self.curX, self.curY)</div><div class="line">            </div><div class="line">        <span class="keyword">elif</span> key == Qt.Key_Up:</div><div class="line">            self.tryMove(self.curPiece.rotateLeft(), self.curX, self.curY)</div><div class="line">            </div><div class="line">        <span class="keyword">elif</span> key == Qt.Key_Space:</div><div class="line">            self.dropDown()</div><div class="line">            </div><div class="line">        <span class="keyword">elif</span> key == Qt.Key_D:</div><div class="line">            self.oneLineDown()</div><div class="line">            </div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            super(Board, self).keyPressEvent(event)</div><div class="line">                </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">timerEvent</span><span class="params">(self, event)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> event.timerId() == self.timer.timerId():</div><div class="line">            </div><div class="line">            <span class="keyword">if</span> self.isWaitingAfterLine:</div><div class="line">                self.isWaitingAfterLine = <span class="keyword">False</span></div><div class="line">                self.newPiece()</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                self.oneLineDown()</div><div class="line">                </div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            super(Board, self).timerEvent(event)</div><div class="line"></div><div class="line">            </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clearBoard</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(Board.BoardHeight * Board.BoardWidth):</div><div class="line">            self.board.append(Tetrominoe.NoShape)</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dropDown</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        newY = self.curY</div><div class="line">        </div><div class="line">        <span class="keyword">while</span> newY &gt; <span class="number">0</span>:</div><div class="line">            </div><div class="line">            <span class="keyword">if</span> <span class="keyword">not</span> self.tryMove(self.curPiece, self.curX, newY - <span class="number">1</span>):</div><div class="line">                <span class="keyword">break</span></div><div class="line">                </div><div class="line">            newY -= <span class="number">1</span></div><div class="line"></div><div class="line">        self.pieceDropped()</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">oneLineDown</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.tryMove(self.curPiece, self.curX, self.curY - <span class="number">1</span>):</div><div class="line">            self.pieceDropped()</div><div class="line">            </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pieceDropped</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            </div><div class="line">            x = self.curX + self.curPiece.x(i)</div><div class="line">            y = self.curY - self.curPiece.y(i)</div><div class="line">            self.setShapeAt(x, y, self.curPiece.shape())</div><div class="line"></div><div class="line">        self.removeFullLines()</div><div class="line"></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.isWaitingAfterLine:</div><div class="line">            self.newPiece()</div><div class="line">            </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeFullLines</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        numFullLines = <span class="number">0</span></div><div class="line">        rowsToRemove = []</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(Board.BoardHeight):</div><div class="line">            </div><div class="line">            n = <span class="number">0</span></div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(Board.BoardWidth):</div><div class="line">                <span class="keyword">if</span> <span class="keyword">not</span> self.shapeAt(j, i) == Tetrominoe.NoShape:</div><div class="line">                    n = n + <span class="number">1</span></div><div class="line"></div><div class="line">            <span class="keyword">if</span> n == <span class="number">10</span>:</div><div class="line">                rowsToRemove.append(i)</div><div class="line"></div><div class="line">        rowsToRemove.reverse()</div><div class="line">        </div><div class="line"></div><div class="line">        <span class="keyword">for</span> m <span class="keyword">in</span> rowsToRemove:</div><div class="line">            </div><div class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(m, Board.BoardHeight):</div><div class="line">                <span class="keyword">for</span> l <span class="keyword">in</span> range(Board.BoardWidth):</div><div class="line">                        self.setShapeAt(l, k, self.shapeAt(l, k + <span class="number">1</span>))</div><div class="line"></div><div class="line">        numFullLines = numFullLines + len(rowsToRemove)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> numFullLines &gt; <span class="number">0</span>:</div><div class="line">            </div><div class="line">            self.numLinesRemoved = self.numLinesRemoved + numFullLines</div><div class="line">            self.msg2Statusbar.emit(str(self.numLinesRemoved))</div><div class="line">                </div><div class="line">            self.isWaitingAfterLine = <span class="keyword">True</span></div><div class="line">            self.curPiece.setShape(Tetrominoe.NoShape)</div><div class="line">            self.update()</div><div class="line">            </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">newPiece</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        self.curPiece = Shape()</div><div class="line">        self.curPiece.setRandomShape()</div><div class="line">        self.curX = Board.BoardWidth // <span class="number">2</span> + <span class="number">1</span></div><div class="line">        self.curY = Board.BoardHeight - <span class="number">1</span> + self.curPiece.minY()</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.tryMove(self.curPiece, self.curX, self.curY):</div><div class="line">            </div><div class="line">            self.curPiece.setShape(Tetrominoe.NoShape)</div><div class="line">            self.timer.stop()</div><div class="line">            self.isStarted = <span class="keyword">False</span></div><div class="line">            self.msg2Statusbar.emit(<span class="string">"Game over"</span>)</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tryMove</span><span class="params">(self, newPiece, newX, newY)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            </div><div class="line">            x = newX + newPiece.x(i)</div><div class="line">            y = newY - newPiece.y(i)</div><div class="line">            </div><div class="line">            <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= Board.BoardWidth <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= Board.BoardHeight:</div><div class="line">                <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line">                </div><div class="line">            <span class="keyword">if</span> self.shapeAt(x, y) != Tetrominoe.NoShape:</div><div class="line">                <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"></div><div class="line">        self.curPiece = newPiece</div><div class="line">        self.curX = newX</div><div class="line">        self.curY = newY</div><div class="line">        self.update()</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawSquare</span><span class="params">(self, painter, x, y, shape)</span>:</span></div><div class="line">        </div><div class="line">        colorTable = [<span class="number">0x000000</span>, <span class="number">0xCC6666</span>, <span class="number">0x66CC66</span>, <span class="number">0x6666CC</span>,</div><div class="line">                      <span class="number">0xCCCC66</span>, <span class="number">0xCC66CC</span>, <span class="number">0x66CCCC</span>, <span class="number">0xDAAA00</span>]</div><div class="line"></div><div class="line">        color = QColor(colorTable[shape])</div><div class="line">        painter.fillRect(x + <span class="number">1</span>, y + <span class="number">1</span>, self.squareWidth() - <span class="number">2</span>, </div><div class="line">            self.squareHeight() - <span class="number">2</span>, color)</div><div class="line"></div><div class="line">        painter.setPen(color.lighter())</div><div class="line">        painter.drawLine(x, y + self.squareHeight() - <span class="number">1</span>, x, y)</div><div class="line">        painter.drawLine(x, y, x + self.squareWidth() - <span class="number">1</span>, y)</div><div class="line"></div><div class="line">        painter.setPen(color.darker())</div><div class="line">        painter.drawLine(x + <span class="number">1</span>, y + self.squareHeight() - <span class="number">1</span>,</div><div class="line">            x + self.squareWidth() - <span class="number">1</span>, y + self.squareHeight() - <span class="number">1</span>)</div><div class="line">        painter.drawLine(x + self.squareWidth() - <span class="number">1</span>, </div><div class="line">            y + self.squareHeight() - <span class="number">1</span>, x + self.squareWidth() - <span class="number">1</span>, y + <span class="number">1</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tetrominoe</span><span class="params">(object)</span>:</span></div><div class="line">    </div><div class="line">    NoShape = <span class="number">0</span></div><div class="line">    ZShape = <span class="number">1</span></div><div class="line">    SShape = <span class="number">2</span></div><div class="line">    LineShape = <span class="number">3</span></div><div class="line">    TShape = <span class="number">4</span></div><div class="line">    SquareShape = <span class="number">5</span></div><div class="line">    LShape = <span class="number">6</span></div><div class="line">    MirroredLShape = <span class="number">7</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span><span class="params">(object)</span>:</span></div><div class="line">    </div><div class="line">    coordsTable = (</div><div class="line">        ((<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">0</span>)),</div><div class="line">        ((<span class="number">0</span>, <span class="number">-1</span>),    (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">-1</span>, <span class="number">0</span>),    (<span class="number">-1</span>, <span class="number">1</span>)),</div><div class="line">        ((<span class="number">0</span>, <span class="number">-1</span>),    (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">1</span>, <span class="number">0</span>),     (<span class="number">1</span>, <span class="number">1</span>)),</div><div class="line">        ((<span class="number">0</span>, <span class="number">-1</span>),    (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">1</span>),     (<span class="number">0</span>, <span class="number">2</span>)),</div><div class="line">        ((<span class="number">-1</span>, <span class="number">0</span>),    (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">1</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">1</span>)),</div><div class="line">        ((<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">1</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">1</span>),     (<span class="number">1</span>, <span class="number">1</span>)),</div><div class="line">        ((<span class="number">-1</span>, <span class="number">-1</span>),   (<span class="number">0</span>, <span class="number">-1</span>),    (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">1</span>)),</div><div class="line">        ((<span class="number">1</span>, <span class="number">-1</span>),    (<span class="number">0</span>, <span class="number">-1</span>),    (<span class="number">0</span>, <span class="number">0</span>),     (<span class="number">0</span>, <span class="number">1</span>))</div><div class="line">    )</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        self.coords = [[<span class="number">0</span>,<span class="number">0</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>)]</div><div class="line">        self.pieceShape = Tetrominoe.NoShape</div><div class="line"></div><div class="line">        self.setShape(Tetrominoe.NoShape)</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shape</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.pieceShape</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setShape</span><span class="params">(self, shape)</span>:</span></div><div class="line">        </div><div class="line">        table = Shape.coordsTable[shape]</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>):</div><div class="line">                self.coords[i][j] = table[i][j]</div><div class="line"></div><div class="line">        self.pieceShape = shape</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setRandomShape</span><span class="params">(self)</span>:</span></div><div class="line">        self.setShape(random.randint(<span class="number">1</span>, <span class="number">7</span>))</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self, index)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.coords[index][<span class="number">0</span>]</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">y</span><span class="params">(self, index)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.coords[index][<span class="number">1</span>]</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setX</span><span class="params">(self, index, x)</span>:</span></div><div class="line">        self.coords[index][<span class="number">0</span>] = x</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setY</span><span class="params">(self, index, y)</span>:</span></div><div class="line">        self.coords[index][<span class="number">1</span>] = y</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minX</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        m = self.coords[<span class="number">0</span>][<span class="number">0</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            m = min(m, self.coords[i][<span class="number">0</span>])</div><div class="line"></div><div class="line">        <span class="keyword">return</span> m</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxX</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        m = self.coords[<span class="number">0</span>][<span class="number">0</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            m = max(m, self.coords[i][<span class="number">0</span>])</div><div class="line"></div><div class="line">        <span class="keyword">return</span> m</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minY</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        m = self.coords[<span class="number">0</span>][<span class="number">1</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            m = min(m, self.coords[i][<span class="number">1</span>])</div><div class="line"></div><div class="line">        <span class="keyword">return</span> m</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxY</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        m = self.coords[<span class="number">0</span>][<span class="number">1</span>]</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            m = max(m, self.coords[i][<span class="number">1</span>])</div><div class="line"></div><div class="line">        <span class="keyword">return</span> m</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rotateLeft</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> self.pieceShape == Tetrominoe.SquareShape:</div><div class="line">            <span class="keyword">return</span> self</div><div class="line"></div><div class="line">        result = Shape()</div><div class="line">        result.pieceShape = self.pieceShape</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            </div><div class="line">            result.setX(i, self.y(i))</div><div class="line">            result.setY(i, -self.x(i))</div><div class="line"></div><div class="line">        <span class="keyword">return</span> result</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rotateRight</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> self.pieceShape == Tetrominoe.SquareShape:</div><div class="line">            <span class="keyword">return</span> self</div><div class="line"></div><div class="line">        result = Shape()</div><div class="line">        result.pieceShape = self.pieceShape</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>):</div><div class="line">            </div><div class="line">            result.setX(i, -self.y(i))</div><div class="line">            result.setY(i, self.x(i))</div><div class="line"></div><div class="line">        <span class="keyword">return</span> result</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication([])</div><div class="line">    tetris = Tetris()    </div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_11_1.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;俄罗斯方块&quot;&gt;&lt;a href=&quot;#俄罗斯方块&quot; class=&quot;headerlink&quot; title=&quot;俄罗斯方块&quot;&gt;&lt;/a&gt;俄罗斯方块&lt;/h1&gt;&lt;p&gt;俄罗斯方块是最流行的电脑游戏之一，1985年俄罗斯开发者 Alexey Pajitnov 开发出最初的原型。&lt;/p&gt;
    
    </summary>
    
      <category term="PyQt5" scheme="http://dandan32.github.io/categories/PyQt5/"/>
    
    
      <category term="PyQt5" scheme="http://dandan32.github.io/tags/PyQt5/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5_10 自定义部件【Custom widgets in PyQt5】</title>
    <link href="http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-10/"/>
    <id>http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-10/</id>
    <published>2017-04-19T07:55:04.000Z</published>
    <updated>2017-04-19T08:34:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>PyQt5 有一系列空间，然而开发者可能有某些特殊的需要。通常只提供最基本的部件，比如：按钮、文本、滚动条等。如果需要更特殊的部件，可以自行创建。通过绘图工具自定义部件，两种可能的方法，开发者可以定义、增强部件 或者自己创建一个部件。</p>
<h1 id="Burning-widget"><a href="#Burning-widget" class="headerlink" title="Burning widget"></a>Burning widget</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we create a custom widget.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QSlider, QApplication, </div><div class="line">    QHBoxLayout, QVBoxLayout)</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QObject, Qt, pyqtSignal</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QFont, QColor, QPen</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Communicate</span><span class="params">(QObject)</span>:</span></div><div class="line">    </div><div class="line">    updateBW = pyqtSignal(int)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">BurningWidget</span><span class="params">(QWidget)</span>:</span></div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span>      </div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        self.setMinimumSize(<span class="number">1</span>, <span class="number">30</span>)</div><div class="line">        self.value = <span class="number">75</span></div><div class="line">        self.num = [<span class="number">75</span>, <span class="number">150</span>, <span class="number">225</span>, <span class="number">300</span>, <span class="number">375</span>, <span class="number">450</span>, <span class="number">525</span>, <span class="number">600</span>, <span class="number">675</span>]</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setValue</span><span class="params">(self, value)</span>:</span></div><div class="line"></div><div class="line">        self.value = value</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, e)</span>:</span></div><div class="line">      </div><div class="line">        qp = QPainter()</div><div class="line">        qp.begin(self)</div><div class="line">        self.drawWidget(qp)</div><div class="line">        qp.end()</div><div class="line">      </div><div class="line">      </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawWidget</span><span class="params">(self, qp)</span>:</span></div><div class="line">      </div><div class="line">        font = QFont(<span class="string">'Serif'</span>, <span class="number">7</span>, QFont.Light)</div><div class="line">        qp.setFont(font)</div><div class="line"></div><div class="line">        size = self.size()</div><div class="line">        w = size.width()</div><div class="line">        h = size.height()</div><div class="line"></div><div class="line">        step = int(round(w / <span class="number">10.0</span>))</div><div class="line"></div><div class="line"></div><div class="line">        till = int(((w / <span class="number">750.0</span>) * self.value))</div><div class="line">        full = int(((w / <span class="number">750.0</span>) * <span class="number">700</span>))</div><div class="line"></div><div class="line">        <span class="keyword">if</span> self.value &gt;= <span class="number">700</span>:</div><div class="line">            </div><div class="line">            qp.setPen(QColor(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</div><div class="line">            qp.setBrush(QColor(<span class="number">255</span>, <span class="number">255</span>, <span class="number">184</span>))</div><div class="line">            qp.drawRect(<span class="number">0</span>, <span class="number">0</span>, full, h)</div><div class="line">            qp.setPen(QColor(<span class="number">255</span>, <span class="number">175</span>, <span class="number">175</span>))</div><div class="line">            qp.setBrush(QColor(<span class="number">255</span>, <span class="number">175</span>, <span class="number">175</span>))</div><div class="line">            qp.drawRect(full, <span class="number">0</span>, till-full, h)</div><div class="line">            </div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            </div><div class="line">            qp.setPen(QColor(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</div><div class="line">            qp.setBrush(QColor(<span class="number">255</span>, <span class="number">255</span>, <span class="number">184</span>))</div><div class="line">            qp.drawRect(<span class="number">0</span>, <span class="number">0</span>, till, h)</div><div class="line"></div><div class="line"></div><div class="line">        pen = QPen(QColor(<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>), <span class="number">1</span>, </div><div class="line">            Qt.SolidLine)</div><div class="line">            </div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.setBrush(Qt.NoBrush)</div><div class="line">        qp.drawRect(<span class="number">0</span>, <span class="number">0</span>, w<span class="number">-1</span>, h<span class="number">-1</span>)</div><div class="line"></div><div class="line">        j = <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(step, <span class="number">10</span>*step, step):</div><div class="line">          </div><div class="line">            qp.drawLine(i, <span class="number">0</span>, i, <span class="number">5</span>)</div><div class="line">            metrics = qp.fontMetrics()</div><div class="line">            fw = metrics.width(str(self.num[j]))</div><div class="line">            qp.drawText(i-fw/<span class="number">2</span>, h/<span class="number">2</span>, str(self.num[j]))</div><div class="line">            j = j + <span class="number">1</span></div><div class="line">            </div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        sld = QSlider(Qt.Horizontal, self)</div><div class="line">        sld.setFocusPolicy(Qt.NoFocus)</div><div class="line">        sld.setRange(<span class="number">1</span>, <span class="number">750</span>)</div><div class="line">        sld.setValue(<span class="number">75</span>)</div><div class="line">        sld.setGeometry(<span class="number">30</span>, <span class="number">40</span>, <span class="number">150</span>, <span class="number">30</span>)</div><div class="line"></div><div class="line">        self.c = Communicate()        </div><div class="line">        self.wid = BurningWidget()</div><div class="line">        self.c.updateBW[int].connect(self.wid.setValue)</div><div class="line"></div><div class="line">        sld.valueChanged[int].connect(self.changeValue)</div><div class="line">        hbox = QHBoxLayout()</div><div class="line">        hbox.addWidget(self.wid)</div><div class="line">        vbox = QVBoxLayout()</div><div class="line">        vbox.addStretch(<span class="number">1</span>)</div><div class="line">        vbox.addLayout(hbox)</div><div class="line">        self.setLayout(vbox)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">390</span>, <span class="number">210</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Burning widget'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">changeValue</span><span class="params">(self, value)</span>:</span></div><div class="line">             </div><div class="line">        self.c.updateBW.emit(value)        </div><div class="line">        self.wid.repaint()</div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_10_1.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PyQt5 有一系列空间，然而开发者可能有某些特殊的需要。通常只提供最基本的部件，比如：按钮、文本、滚动条等。如果需要更特殊的部件，可以自行创建。通过绘图工具自定义部件，两种可能的方法，开发者可以定义、增强部件 或者自己创建一个部件。&lt;/p&gt;
&lt;h1 id=&quot;Burning
    
    </summary>
    
      <category term="PyQt5" scheme="http://dandan32.github.io/categories/PyQt5/"/>
    
    
      <category term="PyQt5" scheme="http://dandan32.github.io/tags/PyQt5/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5-9  绘图 【Painting in PyQt5】</title>
    <link href="http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-9/"/>
    <id>http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-9/</id>
    <published>2017-04-19T07:50:58.000Z</published>
    <updated>2017-04-19T08:35:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>PyQt5 绘图系统能够渲染矢量图、图片、艺术字。绘图对于改变或增强现有部件功能很重要，使用内建的绘图api进行绘制。<br>绘制由paintEvent()方法完成。绘制代码放置在QPainter对象的begin()方法和end()方法中。</p>
<h1 id="绘制文本【Drawing-text】"><a href="#绘制文本【Drawing-text】" class="headerlink" title="绘制文本【Drawing text】"></a>绘制文本【Drawing text】</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we draw text in Russian azbuka.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: September 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QColor, QFont</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.text = <span class="string">u'\u041b\u0435\u0432 \u041d\u0438\u043a\u043e\u043b\u0430\</span></div><div class="line">\u0435\u0432\u0438\u0447 \u0422\u043e\u043b\u0441\u0442\u043e\u0439: \n\</div><div class="line">\u0410\u043d\u043d\u0430 \u041a\u0430\u0440\u0435\u043d\u0438\u043d\u0430'</div><div class="line"></div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">170</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Draw text'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, event)</span>:</span></div><div class="line"></div><div class="line">        qp = QPainter()</div><div class="line">        qp.begin(self)</div><div class="line">        self.drawText(event, qp)</div><div class="line">        qp.end()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawText</span><span class="params">(self, event, qp)</span>:</span></div><div class="line">      </div><div class="line">        qp.setPen(QColor(<span class="number">168</span>, <span class="number">34</span>, <span class="number">3</span>))</div><div class="line">        qp.setFont(QFont(<span class="string">'Decorative'</span>, <span class="number">10</span>))</div><div class="line">        qp.drawText(event.rect(), Qt.AlignCenter, self.text)        </div><div class="line">                </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_9_1.png" alt=""></p>
<h1 id="画点-【Drawing-points】"><a href="#画点-【Drawing-points】" class="headerlink" title="画点 【Drawing points】"></a>画点 【Drawing points】</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In the example, we draw randomly 1000 red points </div><div class="line">on the window.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys, random</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QColor, QPen</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">170</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Points'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, e)</span>:</span></div><div class="line"></div><div class="line">        qp = QPainter()</div><div class="line">        qp.begin(self)</div><div class="line">        self.drawPoints(qp)</div><div class="line">        qp.end()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawPoints</span><span class="params">(self, qp)</span>:</span></div><div class="line">      </div><div class="line">        qp.setPen(Qt.red)</div><div class="line">        size = self.size()</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>):</div><div class="line">            x = random.randint(<span class="number">1</span>, size.width()<span class="number">-1</span>)</div><div class="line">            y = random.randint(<span class="number">1</span>, size.height()<span class="number">-1</span>)</div><div class="line">            qp.drawPoint(x, y)     </div><div class="line">                </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_9_2.png" alt=""></p>
<h1 id="颜色-【colours】"><a href="#颜色-【colours】" class="headerlink" title="颜色 【colours】"></a>颜色 【colours】</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example draws three rectangles in three</div><div class="line">#different colours. </div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QColor, QBrush</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">350</span>, <span class="number">100</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Colours'</span>)</div><div class="line">        self.show()</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, e)</span>:</span></div><div class="line"></div><div class="line">        qp = QPainter()</div><div class="line">        qp.begin(self)</div><div class="line">        self.drawRectangles(qp)</div><div class="line">        qp.end()</div><div class="line"></div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawRectangles</span><span class="params">(self, qp)</span>:</span></div><div class="line">      </div><div class="line">        col = QColor(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">        col.setNamedColor(<span class="string">'#d4d4d4'</span>)</div><div class="line">        qp.setPen(col)</div><div class="line"></div><div class="line">        qp.setBrush(QColor(<span class="number">200</span>, <span class="number">0</span>, <span class="number">0</span>))</div><div class="line">        qp.drawRect(<span class="number">10</span>, <span class="number">15</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        qp.setBrush(QColor(<span class="number">255</span>, <span class="number">80</span>, <span class="number">0</span>, <span class="number">160</span>))</div><div class="line">        qp.drawRect(<span class="number">130</span>, <span class="number">15</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        qp.setBrush(QColor(<span class="number">25</span>, <span class="number">0</span>, <span class="number">90</span>, <span class="number">200</span>))</div><div class="line">        qp.drawRect(<span class="number">250</span>, <span class="number">15</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line">              </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_9_3.png" alt=""></p>
<h1 id="QPen"><a href="#QPen" class="headerlink" title="QPen"></a>QPen</h1><p>QPen 是基本的图形对象，可以用户画线、曲线、举行的轮廓、阴影、几何图形和其他形状。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example we draw 6 lines using</div><div class="line">different pen styles. </div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QColor, QPen</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">270</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Pen styles'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, e)</span>:</span></div><div class="line"></div><div class="line">        qp = QPainter()</div><div class="line">        qp.begin(self)</div><div class="line">        self.drawLines(qp)</div><div class="line">        qp.end()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawLines</span><span class="params">(self, qp)</span>:</span></div><div class="line">      </div><div class="line">        pen = QPen(Qt.black, <span class="number">2</span>, Qt.SolidLine)</div><div class="line"></div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.drawLine(<span class="number">20</span>, <span class="number">40</span>, <span class="number">250</span>, <span class="number">40</span>)</div><div class="line"></div><div class="line">        pen.setStyle(Qt.DashLine)</div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.drawLine(<span class="number">20</span>, <span class="number">80</span>, <span class="number">250</span>, <span class="number">80</span>)</div><div class="line"></div><div class="line">        pen.setStyle(Qt.DashDotLine)</div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.drawLine(<span class="number">20</span>, <span class="number">120</span>, <span class="number">250</span>, <span class="number">120</span>)</div><div class="line"></div><div class="line">        pen.setStyle(Qt.DotLine)</div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.drawLine(<span class="number">20</span>, <span class="number">160</span>, <span class="number">250</span>, <span class="number">160</span>)</div><div class="line"></div><div class="line">        pen.setStyle(Qt.DashDotDotLine)</div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.drawLine(<span class="number">20</span>, <span class="number">200</span>, <span class="number">250</span>, <span class="number">200</span>)</div><div class="line"></div><div class="line">        pen.setStyle(Qt.CustomDashLine)</div><div class="line">        pen.setDashPattern([<span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>])</div><div class="line">        qp.setPen(pen)</div><div class="line">        qp.drawLine(<span class="number">20</span>, <span class="number">240</span>, <span class="number">250</span>, <span class="number">240</span>)</div><div class="line">              </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_9_4.png" alt=""></p>
<h1 id="QBrush"><a href="#QBrush" class="headerlink" title="QBrush"></a>QBrush</h1><p>QBrush 是基本的图形对象，用于图形的背景绘制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example draws 9 rectangles in different</div><div class="line">brush styles.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: July 2016</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPainter, QBrush</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">355</span>, <span class="number">280</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Brushes'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">paintEvent</span><span class="params">(self, e)</span>:</span></div><div class="line"></div><div class="line">        qp = QPainter()</div><div class="line">        qp.begin(self)</div><div class="line">        self.drawBrushes(qp)</div><div class="line">        qp.end()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drawBrushes</span><span class="params">(self, qp)</span>:</span></div><div class="line">      </div><div class="line">        brush = QBrush(Qt.SolidPattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">10</span>, <span class="number">15</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.Dense1Pattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">130</span>, <span class="number">15</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.Dense2Pattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">250</span>, <span class="number">15</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.DiagCrossPattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">10</span>, <span class="number">105</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.Dense5Pattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">130</span>, <span class="number">105</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.Dense6Pattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">250</span>, <span class="number">105</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.HorPattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">10</span>, <span class="number">195</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.VerPattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">130</span>, <span class="number">195</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        brush.setStyle(Qt.BDiagPattern)</div><div class="line">        qp.setBrush(brush)</div><div class="line">        qp.drawRect(<span class="number">250</span>, <span class="number">195</span>, <span class="number">90</span>, <span class="number">60</span>)</div><div class="line">              </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/images/PyQt/PyQt5_9_5.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;PyQt5 绘图系统能够渲染矢量图、图片、艺术字。绘图对于改变或增强现有部件功能很重要，使用内建的绘图api进行绘制。&lt;br&gt;绘制由paintEvent()方法完成。绘制代码放置在QPainter对象的begin()方法和end()方法中。&lt;/p&gt;
&lt;h1 id=&quot;绘制文本
    
    </summary>
    
      <category term="PyQt5" scheme="http://dandan32.github.io/categories/PyQt5/"/>
    
    
      <category term="PyQt5" scheme="http://dandan32.github.io/tags/PyQt5/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5-8 小部件II 【widgets II】</title>
    <link href="http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-8/"/>
    <id>http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-8/</id>
    <published>2017-04-19T07:44:41.000Z</published>
    <updated>2017-04-19T08:15:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>widgets 用法例子，不含解释。</p>
<h1 id="QPixmap"><a href="#QPixmap" class="headerlink" title="QPixmap"></a>QPixmap</h1><p>在屏幕上显示图片。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we dispay an image</div><div class="line">on the window. </div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QHBoxLayout, </div><div class="line">    QLabel, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPixmap</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        hbox = QHBoxLayout(self)</div><div class="line">        pixmap = QPixmap(<span class="string">"redrock.png"</span>)</div><div class="line"></div><div class="line">        lbl = QLabel(self)</div><div class="line">        lbl.setPixmap(pixmap)</div><div class="line"></div><div class="line">        hbox.addWidget(lbl)</div><div class="line">        self.setLayout(hbox)</div><div class="line">        </div><div class="line">        self.move(<span class="number">300</span>, <span class="number">200</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Red Rock'</span>)</div><div class="line">        self.show()        </div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QLineEdit"><a href="#QLineEdit" class="headerlink" title="QLineEdit"></a>QLineEdit</h1><p>单行编辑框</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example shows text which </div><div class="line">is entered in a QLineEdit</div><div class="line">in a QLabel widget.</div><div class="line"> </div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QLabel, </div><div class="line">    QLineEdit, QApplication)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.lbl = QLabel(self)</div><div class="line">        qle = QLineEdit(self)</div><div class="line">        </div><div class="line">        qle.move(<span class="number">60</span>, <span class="number">100</span>)</div><div class="line">        self.lbl.move(<span class="number">60</span>, <span class="number">40</span>)</div><div class="line"></div><div class="line">        qle.textChanged[str].connect(self.onChanged)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">170</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'QLineEdit'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onChanged</span><span class="params">(self, text)</span>:</span></div><div class="line">        </div><div class="line">        self.lbl.setText(text)</div><div class="line">        self.lbl.adjustSize()        </div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QSplitter"><a href="#QSplitter" class="headerlink" title="QSplitter"></a>QSplitter</h1><p>将区域分割，切分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example shows</div><div class="line">how to use QSplitter widget.</div><div class="line"> </div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QHBoxLayout, QFrame, </div><div class="line">    QSplitter, QStyleFactory, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        hbox = QHBoxLayout(self)</div><div class="line"></div><div class="line">        topleft = QFrame(self)</div><div class="line">        topleft.setFrameShape(QFrame.StyledPanel)</div><div class="line"> </div><div class="line">        topright = QFrame(self)</div><div class="line">        topright.setFrameShape(QFrame.StyledPanel)</div><div class="line"></div><div class="line">        bottom = QFrame(self)</div><div class="line">        bottom.setFrameShape(QFrame.StyledPanel)</div><div class="line"></div><div class="line">        splitter1 = QSplitter(Qt.Horizontal)</div><div class="line">        splitter1.addWidget(topleft)</div><div class="line">        splitter1.addWidget(topright)</div><div class="line"></div><div class="line">        splitter2 = QSplitter(Qt.Vertical)</div><div class="line">        splitter2.addWidget(splitter1)</div><div class="line">        splitter2.addWidget(bottom)</div><div class="line"></div><div class="line">        hbox.addWidget(splitter2)</div><div class="line">        self.setLayout(hbox)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">200</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'QSplitter'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onChanged</span><span class="params">(self, text)</span>:</span></div><div class="line">        </div><div class="line">        self.lbl.setText(text)</div><div class="line">        self.lbl.adjustSize()        </div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QComboBox"><a href="#QComboBox" class="headerlink" title="QComboBox"></a>QComboBox</h1><p>下拉列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example shows how to use </div><div class="line">a QComboBox widget.</div><div class="line"> </div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QLabel, </div><div class="line">    QComboBox, QApplication)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.lbl = QLabel(<span class="string">"Ubuntu"</span>, self)</div><div class="line"></div><div class="line">        combo = QComboBox(self)</div><div class="line">        combo.addItem(<span class="string">"Ubuntu"</span>)</div><div class="line">        combo.addItem(<span class="string">"Mandriva"</span>)</div><div class="line">        combo.addItem(<span class="string">"Fedora"</span>)</div><div class="line">        combo.addItem(<span class="string">"Arch"</span>)</div><div class="line">        combo.addItem(<span class="string">"Gentoo"</span>)</div><div class="line"></div><div class="line">        combo.move(<span class="number">50</span>, <span class="number">50</span>)</div><div class="line">        self.lbl.move(<span class="number">50</span>, <span class="number">150</span>)</div><div class="line"></div><div class="line">        combo.activated[str].connect(self.onActivated)        </div><div class="line">         </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">300</span>, <span class="number">200</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'QComboBox'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onActivated</span><span class="params">(self, text)</span>:</span></div><div class="line">      </div><div class="line">        self.lbl.setText(text)</div><div class="line">        self.lbl.adjustSize()  </div><div class="line">        </div><div class="line">                </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;widgets 用法例子，不含解释。&lt;/p&gt;
&lt;h1 id=&quot;QPixmap&quot;&gt;&lt;a href=&quot;#QPixmap&quot; class=&quot;headerlink&quot; title=&quot;QPixmap&quot;&gt;&lt;/a&gt;QPixmap&lt;/h1&gt;&lt;p&gt;在屏幕上显示图片。&lt;/p&gt;
&lt;figure cl
    
    </summary>
    
      <category term="PyQt5" scheme="http://dandan32.github.io/categories/PyQt5/"/>
    
    
      <category term="PyQt5" scheme="http://dandan32.github.io/tags/PyQt5/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5-7 小部件 【widgets】</title>
    <link href="http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-7/"/>
    <id>http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-7/</id>
    <published>2017-04-19T07:32:16.000Z</published>
    <updated>2017-04-19T07:50:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>小部件 是应用的基础构建块。PyQt5 具备一系列不同的小部件，包括：按钮、多选按钮、滚动条、列表。此教程中，将探讨几个常用的部件，QCheckBox、ToggleButton、QSlider、QProgressBar、QCalendarWidget。</p>
<p>widgets 用法例子，不含解释</p>
<h1 id="QCheckBox"><a href="#QCheckBox" class="headerlink" title="QCheckBox"></a>QCheckBox</h1><p>多选按钮，具备开启、关闭两种状态。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, a QCheckBox widget</div><div class="line">is used to toggle the title of a window.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QWidget, QCheckBox, QApplication</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        cb = QCheckBox(<span class="string">'Show title'</span>, self)</div><div class="line">        cb.move(<span class="number">20</span>, <span class="number">20</span>)</div><div class="line">        cb.toggle()</div><div class="line">        cb.stateChanged.connect(self.changeTitle)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">150</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'QCheckBox'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">changeTitle</span><span class="params">(self, state)</span>:</span></div><div class="line">      </div><div class="line">        <span class="keyword">if</span> state == Qt.Checked:</div><div class="line">            self.setWindowTitle(<span class="string">'QCheckBox'</span>)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            self.setWindowTitle(<span class="string">''</span>)</div><div class="line">            </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure></p>
<h1 id="Toggle-button"><a href="#Toggle-button" class="headerlink" title="Toggle button"></a>Toggle button</h1><p>Toggle button 是具备press和not press 两种状态的按钮。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we create three toggle buttons.</div><div class="line">They will control the background color of a </div><div class="line">QFrame. </div><div class="line"></div><div class="line">Author: Jan Bodnar</div><div class="line">Website: zetcode.com </div><div class="line">Last edited: November 2016</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QPushButton, </div><div class="line">    QFrame, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QColor</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.col = QColor(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)       </div><div class="line"></div><div class="line">        redb = QPushButton(<span class="string">'Red'</span>, self)</div><div class="line">        redb.setCheckable(<span class="keyword">True</span>)</div><div class="line">        redb.move(<span class="number">10</span>, <span class="number">10</span>)</div><div class="line"></div><div class="line">        redb.clicked[bool].connect(self.setColor)</div><div class="line"></div><div class="line">        greenb = QPushButton(<span class="string">'Green'</span>, self)</div><div class="line">        greenb.setCheckable(<span class="keyword">True</span>)</div><div class="line">        greenb.move(<span class="number">10</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">        greenb.clicked[bool].connect(self.setColor)</div><div class="line"></div><div class="line">        blueb = QPushButton(<span class="string">'Blue'</span>, self)</div><div class="line">        blueb.setCheckable(<span class="keyword">True</span>)</div><div class="line">        blueb.move(<span class="number">10</span>, <span class="number">110</span>)</div><div class="line"></div><div class="line">        blueb.clicked[bool].connect(self.setColor)</div><div class="line"></div><div class="line">        self.square = QFrame(self)</div><div class="line">        self.square.setGeometry(<span class="number">150</span>, <span class="number">20</span>, <span class="number">100</span>, <span class="number">100</span>)</div><div class="line">        self.square.setStyleSheet(<span class="string">"QWidget &#123; background-color: %s &#125;"</span> %  </div><div class="line">            self.col.name())</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">170</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Toggle button'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setColor</span><span class="params">(self, pressed)</span>:</span></div><div class="line">        </div><div class="line">        source = self.sender()</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> pressed:</div><div class="line">            val = <span class="number">255</span></div><div class="line">        <span class="keyword">else</span>: val = <span class="number">0</span></div><div class="line">                        </div><div class="line">        <span class="keyword">if</span> source.text() == <span class="string">"Red"</span>:</div><div class="line">            self.col.setRed(val)                </div><div class="line">        <span class="keyword">elif</span> source.text() == <span class="string">"Green"</span>:</div><div class="line">            self.col.setGreen(val)             </div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            self.col.setBlue(val) </div><div class="line">            </div><div class="line">        self.square.setStyleSheet(<span class="string">"QFrame &#123; background-color: %s &#125;"</span> %</div><div class="line">            self.col.name())  </div><div class="line">       </div><div class="line">       </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QSlider"><a href="#QSlider" class="headerlink" title="QSlider"></a>QSlider</h1><p>QSlider 滚动条</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example shows a QSlider widget.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QSlider, </div><div class="line">    QLabel, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> Qt</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QPixmap</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        sld = QSlider(Qt.Horizontal, self)</div><div class="line">        sld.setFocusPolicy(Qt.NoFocus)</div><div class="line">        sld.setGeometry(<span class="number">30</span>, <span class="number">40</span>, <span class="number">100</span>, <span class="number">30</span>)</div><div class="line">        sld.valueChanged[int].connect(self.changeValue)</div><div class="line">        </div><div class="line">        self.label = QLabel(self)</div><div class="line">        self.label.setPixmap(QPixmap(<span class="string">'mute.png'</span>))</div><div class="line">        self.label.setGeometry(<span class="number">160</span>, <span class="number">40</span>, <span class="number">80</span>, <span class="number">30</span>)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">170</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'QSlider'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">changeValue</span><span class="params">(self, value)</span>:</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> value == <span class="number">0</span>:</div><div class="line">            self.label.setPixmap(QPixmap(<span class="string">'mute.png'</span>))</div><div class="line">        <span class="keyword">elif</span> value &gt; <span class="number">0</span> <span class="keyword">and</span> value &lt;= <span class="number">30</span>:</div><div class="line">            self.label.setPixmap(QPixmap(<span class="string">'min.png'</span>))</div><div class="line">        <span class="keyword">elif</span> value &gt; <span class="number">30</span> <span class="keyword">and</span> value &lt; <span class="number">80</span>:</div><div class="line">            self.label.setPixmap(QPixmap(<span class="string">'med.png'</span>))</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            self.label.setPixmap(QPixmap(<span class="string">'max.png'</span>))</div><div class="line">            </div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line"></div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QProgressBar"><a href="#QProgressBar" class="headerlink" title="QProgressBar"></a>QProgressBar</h1><p>进度条</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example shows a QProgressBar widget.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QProgressBar, </div><div class="line">    QPushButton, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QBasicTimer</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.pbar = QProgressBar(self)</div><div class="line">        self.pbar.setGeometry(<span class="number">30</span>, <span class="number">40</span>, <span class="number">200</span>, <span class="number">25</span>)</div><div class="line"></div><div class="line">        self.btn = QPushButton(<span class="string">'Start'</span>, self)</div><div class="line">        self.btn.move(<span class="number">40</span>, <span class="number">80</span>)</div><div class="line">        self.btn.clicked.connect(self.doAction)</div><div class="line"></div><div class="line">        self.timer = QBasicTimer()</div><div class="line">        self.step = <span class="number">0</span></div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">280</span>, <span class="number">170</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'QProgressBar'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">timerEvent</span><span class="params">(self, e)</span>:</span></div><div class="line">      </div><div class="line">        <span class="keyword">if</span> self.step &gt;= <span class="number">100</span>:</div><div class="line">            self.timer.stop()</div><div class="line">            self.btn.setText(<span class="string">'Finished'</span>)</div><div class="line">            <span class="keyword">return</span></div><div class="line">            </div><div class="line">        self.step = self.step + <span class="number">1</span></div><div class="line">        self.pbar.setValue(self.step)</div><div class="line">        </div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">doAction</span><span class="params">(self)</span>:</span></div><div class="line">      </div><div class="line">        <span class="keyword">if</span> self.timer.isActive():</div><div class="line">            self.timer.stop()</div><div class="line">            self.btn.setText(<span class="string">'Start'</span>)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            self.timer.start(<span class="number">100</span>, self)</div><div class="line">            self.btn.setText(<span class="string">'Stop'</span>)</div><div class="line">            </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QCalendarWidget"><a href="#QCalendarWidget" class="headerlink" title="QCalendarWidget"></a>QCalendarWidget</h1><p>日期</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">This example shows a QCalendarWidget widget.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QCalendarWidget, </div><div class="line">    QLabel, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtCore <span class="keyword">import</span> QDate</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        cal = QCalendarWidget(self)</div><div class="line">        cal.setGridVisible(<span class="keyword">True</span>)</div><div class="line">        cal.move(<span class="number">20</span>, <span class="number">20</span>)</div><div class="line">        cal.clicked[QDate].connect(self.showDate)</div><div class="line">        </div><div class="line">        self.lbl = QLabel(self)</div><div class="line">        date = cal.selectedDate()</div><div class="line">        self.lbl.setText(date.toString())</div><div class="line">        self.lbl.move(<span class="number">130</span>, <span class="number">260</span>)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">350</span>, <span class="number">300</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Calendar'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showDate</span><span class="params">(self, date)</span>:</span>     </div><div class="line">        </div><div class="line">        self.lbl.setText(date.toString())</div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;小部件 是应用的基础构建块。PyQt5 具备一系列不同的小部件，包括：按钮、多选按钮、滚动条、列表。此教程中，将探讨几个常用的部件，QCheckBox、ToggleButton、QSlider、QProgressBar、QCalendarWidget。&lt;/p&gt;
&lt;p&gt;wid
    
    </summary>
    
      <category term="PyQt5" scheme="http://dandan32.github.io/categories/PyQt5/"/>
    
    
      <category term="PyQt5" scheme="http://dandan32.github.io/tags/PyQt5/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5-6 对话框 【Dialogs in PyQt5】</title>
    <link href="http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-6/"/>
    <id>http://dandan32.github.io/2017/04/19/PyQt5/PyQt5-6/</id>
    <published>2017-04-19T07:11:52.000Z</published>
    <updated>2017-04-19T07:30:51.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>对话框窗口</em> 或 <em>对话框</em> 是现代GUI应用中不可或缺的部分。对话框是人之间的对话，在计算机中，对话框是用于与应用交互的窗口。对话框用于输入数据、定义数据、改变应用设置等。</p>
<h1 id="QInputDialog"><a href="#QInputDialog" class="headerlink" title="QInputDialog"></a>QInputDialog</h1><p>QInputDialog 提供简便地从用户获取单值的方法。输入值可以是string、数字 或 列表的一项。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we receive data from</div><div class="line">a QInputDialog dialog. </div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QPushButton, QLineEdit, </div><div class="line">    QInputDialog, QApplication)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.btn = QPushButton(<span class="string">'Dialog'</span>, self)</div><div class="line">        self.btn.move(<span class="number">20</span>, <span class="number">20</span>)</div><div class="line">        self.btn.clicked.connect(self.showDialog)</div><div class="line">        </div><div class="line">        self.le = QLineEdit(self)</div><div class="line">        self.le.move(<span class="number">130</span>, <span class="number">22</span>)</div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">290</span>, <span class="number">150</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Input dialog'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showDialog</span><span class="params">(self)</span>:</span></div><div class="line">        </div><div class="line">        text, ok = QInputDialog.getText(self, <span class="string">'Input Dialog'</span>, </div><div class="line">            <span class="string">'Enter your name:'</span>)</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> ok:</div><div class="line">            self.le.setText(str(text))</div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<p><img src="/PyQt/PyQt_5_6_1.png" alt=""></p>
<h1 id="QColorDialog"><a href="#QColorDialog" class="headerlink" title="QColorDialog"></a>QColorDialog</h1><p>用于选择颜色的对话框</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we select a color value</div><div class="line">from the QColorDialog and change the background</div><div class="line">color of a QFrame widget. </div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QPushButton, QFrame, </div><div class="line">    QColorDialog, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QColor</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        col = QColor(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>) </div><div class="line"></div><div class="line">        self.btn = QPushButton(<span class="string">'Dialog'</span>, self)</div><div class="line">        self.btn.move(<span class="number">20</span>, <span class="number">20</span>)</div><div class="line"></div><div class="line">        self.btn.clicked.connect(self.showDialog)</div><div class="line"></div><div class="line">        self.frm = QFrame(self)</div><div class="line">        self.frm.setStyleSheet(<span class="string">"QWidget &#123; background-color: %s &#125;"</span> </div><div class="line">            % col.name())</div><div class="line">        self.frm.setGeometry(<span class="number">130</span>, <span class="number">22</span>, <span class="number">100</span>, <span class="number">100</span>)            </div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">180</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Color dialog'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showDialog</span><span class="params">(self)</span>:</span></div><div class="line">      </div><div class="line">        col = QColorDialog.getColor()</div><div class="line"></div><div class="line">        <span class="keyword">if</span> col.isValid():</div><div class="line">            self.frm.setStyleSheet(<span class="string">"QWidget &#123; background-color: %s &#125;"</span></div><div class="line">                % col.name())</div><div class="line">            </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QFontDialog"><a href="#QFontDialog" class="headerlink" title="QFontDialog"></a>QFontDialog</h1><p>字体对话框</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we select a font name</div><div class="line">and change the font of a label. </div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QWidget, QVBoxLayout, QPushButton, </div><div class="line">    QSizePolicy, QLabel, QFontDialog, QApplication)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QWidget)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        vbox = QVBoxLayout()</div><div class="line"></div><div class="line">        btn = QPushButton(<span class="string">'Dialog'</span>, self)</div><div class="line">        btn.setSizePolicy(QSizePolicy.Fixed,</div><div class="line">            QSizePolicy.Fixed)</div><div class="line">        </div><div class="line">        btn.move(<span class="number">20</span>, <span class="number">20</span>)</div><div class="line"></div><div class="line">        vbox.addWidget(btn)</div><div class="line"></div><div class="line">        btn.clicked.connect(self.showDialog)</div><div class="line">        </div><div class="line">        self.lbl = QLabel(<span class="string">'Knowledge only matters'</span>, self)</div><div class="line">        self.lbl.move(<span class="number">130</span>, <span class="number">20</span>)</div><div class="line"></div><div class="line">        vbox.addWidget(self.lbl)</div><div class="line">        self.setLayout(vbox)          </div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">250</span>, <span class="number">180</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'Font dialog'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showDialog</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        font, ok = QFontDialog.getFont()</div><div class="line">        <span class="keyword">if</span> ok:</div><div class="line">            self.lbl.setFont(font)</div><div class="line">        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
<h1 id="QFileDialog"><a href="#QFileDialog" class="headerlink" title="QFileDialog"></a>QFileDialog</h1><p>文件对话框，选择文件或路径</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/python3</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line">ZetCode PyQt5 tutorial </div><div class="line"></div><div class="line">In this example, we select a file with a</div><div class="line">QFileDialog and display its contents</div><div class="line">in a QTextEdit.</div><div class="line"></div><div class="line">author: Jan Bodnar</div><div class="line">website: zetcode.com </div><div class="line">last edited: January 2015</div><div class="line">"""</div><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> (QMainWindow, QTextEdit, </div><div class="line">    QAction, QFileDialog, QApplication)</div><div class="line"><span class="keyword">from</span> PyQt5.QtGui <span class="keyword">import</span> QIcon</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span><span class="params">(QMainWindow)</span>:</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        super().__init__()</div><div class="line">        </div><div class="line">        self.initUI()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span><span class="params">(self)</span>:</span>      </div><div class="line"></div><div class="line">        self.textEdit = QTextEdit()</div><div class="line">        self.setCentralWidget(self.textEdit)</div><div class="line">        self.statusBar()</div><div class="line"></div><div class="line">        openFile = QAction(QIcon(<span class="string">'open.png'</span>), <span class="string">'Open'</span>, self)</div><div class="line">        openFile.setShortcut(<span class="string">'Ctrl+O'</span>)</div><div class="line">        openFile.setStatusTip(<span class="string">'Open new File'</span>)</div><div class="line">        openFile.triggered.connect(self.showDialog)</div><div class="line"></div><div class="line">        menubar = self.menuBar()</div><div class="line">        fileMenu = menubar.addMenu(<span class="string">'&amp;File'</span>)</div><div class="line">        fileMenu.addAction(openFile)       </div><div class="line">        </div><div class="line">        self.setGeometry(<span class="number">300</span>, <span class="number">300</span>, <span class="number">350</span>, <span class="number">300</span>)</div><div class="line">        self.setWindowTitle(<span class="string">'File dialog'</span>)</div><div class="line">        self.show()</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showDialog</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        fname = QFileDialog.getOpenFileName(self, <span class="string">'Open file'</span>, <span class="string">'/home'</span>)</div><div class="line"></div><div class="line">        <span class="keyword">if</span> fname[<span class="number">0</span>]:</div><div class="line">            f = open(fname[<span class="number">0</span>], <span class="string">'r'</span>)</div><div class="line"></div><div class="line">            <span class="keyword">with</span> f:</div><div class="line">                data = f.read()</div><div class="line">                self.textEdit.setText(data)        </div><div class="line">        </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    </div><div class="line">    app = QApplication(sys.argv)</div><div class="line">    ex = Example()</div><div class="line">    sys.exit(app.exec_())</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;对话框窗口&lt;/em&gt; 或 &lt;em&gt;对话框&lt;/em&gt; 是现代GUI应用中不可或缺的部分。对话框是人之间的对话，在计算机中，对话框是用于与应用交互的窗口。对话框用于输入数据、定义数据、改变应用设置等。&lt;/p&gt;
&lt;h1 id=&quot;QInputDialog&quot;&gt;&lt;a href=
    
    </summary>
    
      <category term="PyQt5" scheme="http://dandan32.github.io/categories/PyQt5/"/>
    
    
      <category term="PyQt5" scheme="http://dandan32.github.io/tags/PyQt5/"/>
    
  </entry>
  
</feed>
